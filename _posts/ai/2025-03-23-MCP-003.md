---
layout: post
ins_date: 2025-03-23
upd_date: 2025-03-24
category: "ai"
subject: "MCP"
title: "MCP ì„œë²„ êµ¬ì¶•"
description: "ì§ì ‘ ë‚˜ë§Œì˜ MCP ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³ , Dockerì™€ SDKë¥¼ ì´ìš©í•´ Claudeë‚˜ Cursorì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•œ AI ë„êµ¬ë¡œ í™œìš©í•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•©ë‹ˆë‹¤â€‹."
subtitle: "ë‚˜ë§Œì˜ MCP ì„œë²„ ì§ì ‘ ë§Œë“¤ì–´ë³´ê¸°"
author: tiaz0128
permalink: /ai/3
prev_post: /ai/2
tags: [MCP, AI, python]
ref-link:
  - type: youtube
    url: 'https://youtu.be/vcIcfAmBP9E?si=86QsxHxY5oJ3B9Nt'
    title: '[í•œì˜ìë§‰]AI ì—ì´ì „íŠ¸ ê°œë°œìë¼ë©´ ê¼­ ì•Œì•„ì•¼ í•  MCP í”„ë¡œí† ì½œ | ë°ì´í„° ì—°ê²° í‘œì¤€í™”'
  - type: url
    url: 'https://wikidocs.net/book/17027'
    title: 'Model Context Protocol (MCP) Anthropic ê°œë°œ ë°©ë²•'
  - type: github
    url: 'https://github.com/modelcontextprotocol/python-sdk'
    title: 'MCP Python SDK'
---

{% include template/github.html
  repo_name="tiaz0128/hello-mcp"
  url="https://github.com/tiaz0128/hello-mcp"
  branch="master"
%}

## MCP(_Model Context Protocol_)

Model Context Protocol (MCP)ëŠ” ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM)ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

LLMì´ ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„, í•˜ë‚˜ì˜ ë„êµ¬(tool)ë¡œì¨ í™œìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ë°©ë²•ì´ë¼ í•  ìˆ˜  ìˆìŠµë‹ˆë‹¤. ë§ˆì¹˜ ë‚˜ë¥¼ ì˜ ì•Œê³  ë‚˜ì˜ ì¼ì„ ë•ëŠ” ë¹„ì„œì²˜ëŸ¼, LLMì´ ì—ì´ì „íŠ¸(Agent)ë¡œì¨ ê±°ë“­ë‚  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

### MCP ì£¼ìš” êµ¬ì„± ìš”ì†Œ

- í˜¸ìŠ¤íŠ¸(Host) : LLM ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ (ì˜ˆ: Claude Desktop, Cursor, Docker AI...)
- í´ë¼ì´ì–¸íŠ¸(Client) : ì„œë²„ì™€ 1:1 ì—°ê²° ìœ ì§€
- **ì„œë²„(Server)**{:.orange} : íŠ¹ì • ê¸°ëŠ¥ì´ë‚˜ ë¦¬ì†ŒìŠ¤ ì œê³µ

<!-- ë™ì˜ìƒ ë§í¬ -->
{% include template/youtube.html
    url="https://www.youtube.com/embed/vcIcfAmBP9E?si=CZPIrICj4OQiLGlu"
%}

## MCP ì„œë²„ êµ¬ì„± ìš”ì†Œ

- **ë„êµ¬(Tools)**{:.orange} : LLMì´ ì‘ì—…(ì‚¬ì´ë“œ ì´í™íŠ¸ í¬í•¨)ì„ ìˆ˜í–‰í•˜ë„ë¡ ê¸°ëŠ¥ ì œê³µ (ì˜ˆ: POST ì—”ë“œí¬ì¸íŠ¸ì™€ ìœ ì‚¬)
- í”„ë¡¬í”„íŠ¸(Prompts) : LLMê³¼ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•œ í…œí”Œë¦¿ ë¬¸ì¥ì„ ì‘ì„±
- ë¦¬ì†ŒìŠ¤(Resources) : LLMì— ì½ê¸° ì „ìš© ë°ì´í„°ë¥¼ ì œê³µ (ì˜ˆ: GET ì—”ë“œí¬ì¸íŠ¸ì™€ ìœ ì‚¬)

## MCP ì„œë²„ í”„ë¡œì íŠ¸ êµ¬ì¡°

### ë­˜ ë§Œë“œë‚˜?

ì„¸ë¯¸ë‚˜ì— ì°¸ì„í•œ ì¸ì›ì„ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—ì´ì „íŠ¸ë¥¼ MCP ì„œë²„ë¡œ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

### uv ì„¤ì¹˜

{% include template/link.html
  type="note"
  about="uv"
  url="/python/13"
  title="uv : íŒŒì´ì¬ íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬"
%}


[uv](https://docs.astral.sh/uv/){:.none target="_blank"}ëŠ” pipì™€ ê°™ì€ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì…ë‹ˆë‹¤. [MCP Python SDK ê³µì‹ ë¬¸ì„œ](https://github.com/modelcontextprotocol/python-sdk?tab=readme-ov-file#installation){:.none target="_blank"}ì—ì„œëŠ” uv ì‚¬ìš©ì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.
[Installing uv](https://docs.astral.sh/uv/getting-started/installation/#standalone-installer){:target="_blank"} í˜ì´ì§€ë¥¼ ì°¸ê³ í•´ì„œ ì„¤ì¹˜ í•©ë‹ˆë‹¤.

### íŒ¨í‚¤ì§€ ì„¤ì¹˜

uv ë˜ëŠ” pipë¥¼ ì‚¬ìš©í•˜ì—¬, MCP ê°œë°œì— í•„ìš”í•œ SDK íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
$uv add "mcp[cli]"
```

```bash
$ pip install "mcp[cli]"
```

### í´ë” êµ¬ì¡°

{% include template/alert.html
  type="note"
  about="ì˜ˆì‹œì—ì„œëŠ” ë„ì»¤ë¥¼ ì´ìš©í•´ì„œ MCP ì„œë²„ë¥¼ êµ¬ë™í•©ë‹ˆë‹¤."
%}

```text
project/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ attendance-A.md
â”‚   â”œâ”€â”€ attendance-B.md
â”‚   â”œâ”€â”€ seminar.py
â”‚   â””â”€â”€ server.py
â””â”€â”€ uv.lock
```

## MCP ì„œë²„ ì½”ë“œ

{% include template/alert.html
  type="tip"
  about="ì˜ˆì œì—ì„œëŠ” `tool`ê³¼ `prompt`ë¥¼ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤."
%}

`attendance-A.md`{:.path}, `attendance-B.md`{:.path}ì— ê°ê° ì°¸ì„ì ëª…ë‹¨ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `seminar_attendees` í•¨ìˆ˜ì—ì„œ í•´ë‹¹ íŒŒì¼ì„ ì½ì–´ì„œ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ëŒë ¤ì£¼ëŠ” ì½”ë“œì…ë‹ˆë‹¤.

<div class="file-name">src/server.py</div>

```python
from mcp.server.fastmcp import FastMCP
from seminar import seminar_attendees
from datetime import datetime
import json

mcp = FastMCP("Seminar Management System")

@mcp.tool()
def get_seminar_details(party_name: str) -> str:
    attendees = seminar_attendees(party_name)

    seminar_info = {
        "name": party_name,
        "total_attendees": len(attendees),
        "attendees": attendees,
    }

    return json.dumps(seminar_info, ensure_ascii=False, indent=2)

@mcp.tool()
def register_attendee(party_name: str, attendee_name: str) -> str:
    # ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì°¸ì„ìë¥¼ ì¶”ê°€í•˜ëŠ” ë¡œì§ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤

    return f"ì„±ê³µ: {attendee_name}ë‹˜ì´ {party_name} ì„¸ë¯¸ë‚˜ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."

@mcp.prompt()
def prompt(message: str) -> str:
    return f"""
ë‹¹ì‹ ì€ ì„¸ë¯¸ë‚˜ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤.

ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬:
- get_seminar_details(party_name) - íŠ¹ì • ì„¸ë¯¸ë‚˜ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
- register_attendee(party_name, attendee_name) - ìƒˆ ì°¸ì„ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

ì‚¬ìš©ì ë©”ì‹œì§€: {message}
"""

if __name__ == "__main__":
    mcp.run()
```

### ë„êµ¬(tool)

- LLMì´ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¡œ ë“±ë¡
- `@mcp.tool()`

### í”„ë¡¬í”„íŠ¸(prompt)

- LLMê³¼ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•œ í…œí”Œë¦¿
- ì…ë ¥ëœ messageë¥¼ ë°›ì•„ LLMì— ì „ë‹¬í•  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì§€ì‹œë¬¸ ì œê³µ
- `@mcp.prompt()`

## MCP ì„œë²„ ë””ë²„ê¹…ê³¼ êµ¬ë™

### MCP Inspector ì‚¬ìš©

MCP InspectorëŠ” ì„œë²„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ë””ë²„ê¹…í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì€ ê°œë°œ ëª¨ë“œì—ì„œ MCP ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  Inspector ì¸í„°í˜ì´ìŠ¤ë¥¼ í‘œì‹œí•˜ì—¬ ë¦¬ì†ŒìŠ¤, ë„êµ¬ ë° í”„ë¡¬í”„íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

```bash
$ mcp dev src/server.py

Starting MCP inspector...
Proxy server listening on port 3000

ğŸ” MCP Inspector is up and running at http://localhost:5173 ğŸš€
```

### ë””ë²„ê¹… íŒ

Claude Desktopì—ì„œ MCP ì„œë²„ë¥¼ ì—°ë™í•˜ë©´ `claude_desktop_config.json`í´ë” í•˜ìœ„ì— `logs`í´ë”ì—ì„œ ë¡œê·¸ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Dockerfile

ê°œë°œí•œ MCP ì„œë²„ë¥¼ í™˜ê²½ì— ìƒê´€ì—†ì´ ê°€ì¥ ì‰½ê²Œ MCP í´ë¼ì´ì–¸íŠ¸ì™€ ì—°ë™í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë„ì»¤ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ì˜€ìŠµë‹ˆë‹¤.

<div class="file-name">Dockerfile</div>

```docker
FROM python:3.11-slim

WORKDIR /app

# curl ì„¤ì¹˜
RUN apt-get update && apt-get install -y curl

# ì „ì²´ í”„ë¡œì íŠ¸ ë³µì‚¬
COPY . .

# uv ì„¤ì¹˜ (ì „ì—­ ì„¤ì¹˜ ìœ„ì¹˜ë¡œ ë“¤ì–´ê°)
RUN curl -LsSf https://astral.sh/uv/install.sh | sh

# uvê°€ ì„¤ì¹˜ëœ ê²½ë¡œë¥¼ PATHì— ì¶”ê°€
ENV PATH="/root/.local/bin:${PATH}"

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í”„ë¡œì íŠ¸ ì„¤ì¹˜
RUN uv venv .venv && uv pip install -r pyproject.toml

# í•„ìš”í•œ í¬íŠ¸ ì˜¤í”ˆ
EXPOSE 3000
EXPOSE 5173

# MCP ì„œë²„ ì‹¤í–‰
ENTRYPOINT ["uv", "run", "mcp", "run", "src/server.py:mcp"]
```

## í˜¸ìŠ¤íŠ¸ ì—°ê²°

### Docker Image

ìš°ì„  ì•„ë˜ì˜ ëª…ë ìœ¼ë¡œ MCP ì„œë²„ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```bash
$ docker image build -t mcp/seminar .
```

### Claude Desktop ì—°ë™

{% include template/link.html
  type="note"
  about="Claude Desktop ì„¤ì • ë°©ë²•"
  url="/ai/1"
  title="MCP ì˜µì‹œë””ì–¸ ì—°ë™"
%}

<div class="file-name">claude_desktop_config.json</div>

```json
{
  "mcpServers": {
    "seminar_attendees": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-p",
        "3010:3000",
        "mcp/seminar"
      ]
    }
  }
}
```

### Cursor ì—°ë™

{% include template/link.html
  type="note"
  about="Cursor ì„¤ì • ë°©ë²•"
  url="/ai/1"
  title="MCP Cursor ì—°ë™"
%}

<div class="file-name">mcp.json</div>

```json
{
  "mcpServers": {
    "seminar_attendees": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-p",
        "3010:3000",
        "mcp/seminar"
      ]
    }
  }
} 
```

## ì§ˆì˜ í•´ë³´ê¸°

### Claude Desktop

Claude Desktopì—ì„œ `MCPì—ì„œ ì²¨ë¶€`{:.path} ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ì…ë ¥ì°½ì— ë‚´ìš©ì„ ì…ë ¥í•˜ë©´, `@mcp.prompt()`ë¡œ ë§Œë“¤ì–´ë‘” íƒ¬í”Œë¦¿ì„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ë§ˆì¹˜ í”„ë¡¬í”„íŠ¸ì—”ì§€ë‹ˆì–´ë§ ê¸°ë²•ì²˜ëŸ¼ í™œìš© ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤!

{% include template/img-container.html
    type="half"
    left="/assets/img/content/ai/003/000.webp"
    right="/assets/img/content/ai/003/001.webp"
%}

![Claude Desktop](/assets/img/content/ai/003/002.webp){:.img-m}

### Cursor

ì»¤ì„œì—ëŠ” ë”°ë¡œ `MCPì—ì„œ ì²¨ë¶€`{:.path}ì™€ ê°™ì´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ì–´ì„œ ì§ˆì˜ë¥¼ ì œëŒ€ë¡œ í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì‘ì„±í•´ì¤˜ì•¼ í–ˆìŠµë‹ˆë‹¤.

![Cursor MCP Server](/assets/img/content/ai/003/003.webp){:.img-s}

## ë§ˆë¬´ë¦¬

ìƒê°ë³´ë‹¤ MCP ì„œë²„ë¥¼ ì§ì ‘ ë§Œë“œëŠ”ê²Œ ë„ˆë¬´ ì‰½ì§€ ì•Šë‚˜ìš”?

ê·¸ëƒ¥ ëŒ€ì¶© ì§ˆë¬¸í•´ë„ ì°°ë–¡ê°™ì´ ì•Œì•„ë“£ëŠ” LLMì—ê²Œ **MCP ì„œë²„ë¼ëŠ” ë„êµ¬(tool)**{:.orange}ë§Œ ë§Œë“¤ì–´ ì£¼ë©´, ë‚´ê°€ í•´ì•¼í•˜ëŠ” ê·€ì°®ì€ ì¼ë“¤ì„ ë„ˆë¬´ë‚˜ ì˜ ì²˜ë¦¬í•´ì¤¬ìŠµë‹ˆë‹¤!

ê¼­ ìì‹ ë§Œì˜ MCP ì„œë²„ë¥¼ ë§Œë“¤ì–´ë³´ì‹œê¸¸ ë°”ëë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ˜Š

## ì°¸ê³  ë¬¸í—Œ

{% include template/ref.html refs=page.ref-link %}
