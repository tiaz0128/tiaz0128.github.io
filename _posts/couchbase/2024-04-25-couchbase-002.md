---
layout: post
date: 2024-04-25
catalogue: "Couchbase"
subject: "Couchbase"
title: "Couchbase 도입기"
excerpt: "DynamoDB에서 Couchbase로 전환한 이야기 입니다."
author: tiaz
permalink: /Couchbase/2
tags: [Couchbase, NoSQL]
mermaid: true
---

## 프롤로그

---

회사에 AWS DynamoDB를 이용해서 key-value 형태로 JSON 데이터를 저장하는 로직을 개발했습니다. 실제 운영을 해보니 개발과정에서는 생각하지 못한 몇가지 문제가 있었습니다.

1. 비용적인 문제
2. 항목의 크기 제한
3. standalone 개발의 어려움

## DynamoDB 운영 해보니

---

### 비용적인 문제

우선 가장 큰 문제는 비용적인 문제가 있었습니다. 각 사용자별로 테넌트를 분리를 위해서 각 사용자마다 DynamoDB를 운영하니 굉장히 많은 비용이 발생했습니다.

### 항목의 크기 제한

[하나의 항목의 최대 크기가 400KB 로 제한](https://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/ServiceQuotas.html#limits-data-types){:target="_blank"}이 있었기 때문에 더이상 쪼갤수 없는 JSON 데이터를 저장하는데 문제가 있었습니다.

### standalone 개발의 어려움

회사 서비스는 SaaS 형태 서비스 뿐만 아니라 설치 형태의 standalone 또한 제공하고 있었습니다. `amazon/dynamodb-local`를 사용할 수 있었지만, 이 또한 이미 SaaS에서는 비용적인 문제로 DynamoDB를 제거해야하기로 결론난 상황이였습니다. 설치형 개발에서 DynamoDB를 사용해도 추후 유지보수에는 좋지 않은 선택일 확률이 높았습니다.

이러한 이유들로 DynamoDB의 대안을 찾기 시작했고 Couchbase를 도입하게 되었습니다.

## AWS 구조

- S3 이용

## Couchbase link

## 에필로그

